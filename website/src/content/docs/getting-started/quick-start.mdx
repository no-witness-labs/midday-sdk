---
title: Quick Start
description: Create your first Midday SDK client and deploy a contract
---

import { Tabs, TabItem, Steps } from '@astrojs/starlight/components';

This guide walks you through creating a client, deploying a contract, and calling contract actions.

## Promise API

The simplest way to get started. The SDK uses a **Client-centric hub pattern** - everything flows from the client:

<Steps>

1. **Import the SDK**

   ```typescript
   import * as Midday from '@no-witness-labs/midday-sdk';
   ```

2. **Create a client**

   ```typescript
   const client = await Midday.Client.create({
     networkConfig: Midday.Config.NETWORKS.local,
     privateStateProvider: Midday.PrivateState.inMemoryPrivateStateProvider(),
   });
   ```

3. **Load contract** (with path - zkConfig loaded automatically)

   ```typescript
   const contract = await client.loadContract({ 
     path: join(__dirname, './contracts/counter') 
   });
   ```

4. **Deploy the contract**

   ```typescript
   await contract.deploy();
   console.log(`Deployed at: ${contract.address}`);
   ```

5. **Call contract actions**

   ```typescript
   await contract.call('increment');
   ```

6. **Read contract state**

   ```typescript
   const state = await contract.ledgerState();
   console.log(state.counter);
   ```

</Steps>

## Effect API

For developers who prefer functional programming. Effect users get composable operations via the `.effect` namespace:

```typescript
import * as Midday from '@no-witness-labs/midday-sdk';
import { Effect } from 'effect';

const program = Effect.gen(function* () {
  // Create client (Effect version)
  const client = yield* Midday.Client.effect.create({
    networkConfig: Midday.Config.NETWORKS.local,
    privateStateProvider: Midday.PrivateState.inMemoryPrivateStateProvider(),
  });

  // Load contract via client (Effect version) - zkConfig loaded from path
  const contract = yield* client.effect.loadContract({ 
    path: join(__dirname, './contracts/counter') 
  });

  // Deploy (Effect version)
  yield* contract.effect.deploy();

  // Call action (Effect version)
  yield* contract.effect.call('increment');

  // Read state (Effect version)
  const state = yield* contract.effect.ledgerState();

  return state;
});

const result = await Midday.Runtime.runEffectPromise(program);
```

## Effect with Dependency Injection

For larger applications that benefit from testability, use the Layer-based approach:

```typescript
import * as Midday from '@no-witness-labs/midday-sdk';
import { Effect, Layer } from 'effect';

// Create a client layer with your configuration
const ClientLayer = Midday.Client.layer({
  networkConfig: Midday.Config.NETWORKS.local,
  privateStateProvider: Midday.PrivateState.inMemoryPrivateStateProvider(),
});

const program = Effect.gen(function* () {
  // Get the pre-configured client from context
  const client = yield* Midday.MiddayClientService;

  // Load contract via client (path option loads zkConfig automatically)
  const contract = yield* client.effect.loadContract({ 
    path: join(__dirname, './contracts/counter') 
  });
  yield* contract.effect.deploy();

  // Call and read state
  yield* contract.effect.call('increment');
  const state = yield* contract.effect.ledgerState();

  return state;
});

// Run with the layer
const result = await Effect.runPromise(
  program.pipe(Effect.provide(ClientLayer))
);
```

## API Pattern

The SDK follows these principles:

- **Effect is source of truth**: All logic is implemented as Effect functions
- **Client is the hub**: Everything flows from the client
- **Two interfaces**: `.effect.method()` for Effect users, `.method()` for Promise users
- **Per-contract zkConfig**: Each contract loads its own zk circuits via `loadContract`
- **Contract state machine**: Contracts have states (`loaded` â†’ `deployed`)

```typescript
// Promise user - simple flow
const client = await Midday.Client.create(config);
const contract = await client.loadContract({ path: './contracts/counter' });
await contract.deploy();
await contract.call('increment');

// Effect user - compositional
const client = yield* Midday.Client.effect.create(config);
const contract = yield* client.effect.loadContract({ path: './contracts/counter' });
yield* contract.effect.deploy();
yield* contract.effect.call('increment');
```

## Next Steps

- Learn about [Configuration](/midday-sdk/guides/configuration/) options
- Explore [Contract Operations](/midday-sdk/guides/contract-operations/)
- Set up [Browser Usage](/midday-sdk/guides/browser-usage/) with Lace wallet
